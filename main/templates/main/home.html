{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REKLAMGRAD</title>
    <!-- Подключение шрифта Montserrat -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <!-- Подключение Bootstrap CSS через CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Подключение Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Кастомные стили -->
    <link rel="icon" href="{% static 'favicon.ico' %}" />
    <style>
        /* Стили для экрана загрузки */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            font-size: 20px;
            opacity: 1;
            transition: opacity 2.0s ease;
        }

        #loader {
            width: 50px;
            height: 50px;
            border: 5px solid DimGrey;
            border-top: 5px solid white;
            border-radius: 50%;
            animation: spin 0.9s linear forwards;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
                display: none;
            }
        }

        #content {
            display: none;
        }

        #changing-word {
            transition: opacity 0.5s ease-in-out;
            font-size: 2.0rem;
        }

        #about {
            margin-bottom: 30% !important;
        }

        /* Стили для карточек в разделе "Наши услуги" */
        #collections .card {
            background: none;
            border: none;
            box-shadow: none;
            margin-bottom: 20px;
        }

        #collections .card img {
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        #collections .card img:hover {
            transform: scale(1.05);
        }

        /* Стили для карточек в разделе "Наши работы" */
        #works .card {
            background: none;
            border: none;
            box-shadow: none;
            margin-bottom: 20px;
        }

        #works .card img {
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        #works .card img:hover {
            transform: scale(1.05);
        }

        #contact .card {
            margin-top: 50% !important;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            animation: fadeIn 0.5s ease-in-out;
        }

        form {
            font-size: 1.5rem;
            text-align: center;
        }

        .navbar {
            background: rgba(0, 0, 0, 0.8);
            font-size: 1.5rem;
            line-height: 100%;
            border-bottom: 1px solid white;
            font-weight: bold;
        }

        .navbar img {
            max-width: 2%;
        }

        .hero-section {
            background-image: url("{% static 'uv.png' %}");
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            color: white;
            padding: 20% 0;
            text-align: center;
            height: 799.85px;
        }

        .hero-section h1 {
            font-size: 4rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .hero-section p {
            font-size: 2.5rem;
            margin-top: 60px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 40px;
            text-align: center;
            color: black;
        }

        .card {
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card-text {
            font-size: 1.50rem;
            margin-bottom: 1.5rem;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 8px 13px rgba(0, 0, 0, 0.2);
        }

        .card img {
            height: 200px;
            object-fit: cover;
        }

        .description {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }

        .basebtn-primary {
            background-color: rgba(0, 0, 0, 0.1);
            border-color: white;
            padding: 10px 20px;
            transition: background-color 0.3s;
            color: white;
        }

        .basebtn-primary:hover {
            background-color: white;
            color: black;
        }

        .btn-primary {
            background-color: rgba(0, 0, 0, 0.1);
            border-color: #A9A9A9;
            padding: 10px 20px;
            transition: background-color 0.3s;
            color: black;
        }

        .btn-primary:hover {
            background-color: white;
            color: black;
        }

        .btn-details {
            background-color: rgba(0, 0, 0, 0.0);
            border: 2px solid white;
            padding: 10px 20px;
            color: black;
            font-size: 1.2rem;
            transition: background-color 0.3s, color 0.3s;
            display: inline-flex;
            align-items: center;
        }

        .btn-details:hover {
            background-color: white;
            color: black;
        }

        .btn-details i {
            margin-left: 5px;
            transition: transform 0.3s ease;
        }

        .btn-details:hover i {
            transform: translateX(5px);
        }

        .section-text {
            text-align: center;
            font-size: 0.9;
            font-family: 'Montserrat', sans-serif;
        }

        .svbtn-primary {
            background-color: black;
            color: white;
        }

        .svbtn-primary:hover {
            background-color: #A9A9A9;
            color: white;
        }

        footer {
            background-color: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px 0;
        }

        .footer a {
            color: #A9A9A9;
            text-decoration: none;
            transition: color 0.3s;
            font-size: 0.8rem;
        }

        .footer-menu a {
            font-size: 0.8rem;
        }

        .footer_btn:hover {
            color: white;
        }

        .footer-social a {
            color: #A9A9A9;
            margin: 0 10px;
            font-size: 1.2rem;
            transition: color 0.3s;
        }

        .footer-social a:hover {
            color: white;
        }

        .footer .card {
            margin-bottom: 10px;
            background: transparent;
            border: none;
            box-shadow: none;
        }

        .footer .card img {
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
        }

        .footer .card-title {
            color: white;
            font-size: 0.8rem;
        }

        .footer-menu {
            display: block !important;
            list-style: none !important;
            padding-left: 0 !important;
            margin-bottom: 0 !important;
        }

        .footer-menu .nav-item {
            margin-bottom: 10px !important;
        }

        .footer-menu .nav-link {
            color: #A9A9A9 !important;
            text-decoration: none !important;
            transition: color 0.3s !important;
            font-size: 0.8rem !important;
            display: block !important;
        }

        .footer-menu .nav-link:hover {
            color: white !important;
        }
    </style>
</head>
<body>
    <!-- Экран загрузки -->
    <div id="loading-screen">
        <div id="loader"></div>
    </div>

    <!-- Навигационная панель -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <img src="{% static 'uv2.png' %}" alt="Logo"><a class="navbar-brand" href="#">REKLAMGRAD</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item me-5">
                        <a class="nav-link" href="#">Главная</a>
                    </li>
                    <li class="nav-item me-5">
                        <a class="nav-link" href="#about">О нас</a>
                    </li>
                    <li class="nav-item me-5">
                        <a href="{% url 'all_collections' %}" class="nav-link">Наши услуги</a>
                    </li>
                    <li class="nav-item me-5">
                        <a href="{% url 'all_works' %}" class="nav-link">Наши работы</a>
                    </li>
                    <li class="nav-item me-5">
                        <a class="nav-link" href="#contact">Контакты</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Обложка -->
    <div class="hero-section">
        <div class="container">
            <h1>REKLAMGRAD</h1>
            <p>Ваша реклама — наше искусство!</p>
            <div class="changing-text">
                <span id="changing-word">Надежность</span>
            </div>
            <a href="http://127.0.0.1:8000/collections/" class="btn basebtn-primary btn-lg">Наши услуги</a>
        </div>
    </div>

    <!-- О нас -->
    <div id="about" class="container pt-5 text-center">
        <img src="{% static 'uv2.png' %}" class="img-fluid" alt="О нас" style="max-width: 10%; height: auto;">
        <div class="row justify-content-center">
            <div class="col-md-6 mb-1">
                <p class="card-text"><b><font face='Montserrat' size="5">REKLAMGRAD</font></b></p>
                <div class="container my-5">
                    <h2 class="section-title">Почему выбирают нас?</h2>
                    <div class="row text-center">
                        <div class="col-md-4">
                            <h3>🚀 Быстро</h3>
                            <p>Мы выполняем проекты в кратчайшие сроки без потери качества.</p>
                        </div>
                        <div class="col-md-4">
                            <h3>💡 Креативно</h3>
                            <p>Уникальные идеи, которые выделяют ваш бренд среди конкурентов.</p>
                        </div>
                        <div class="col-md-4">
                            <h3>💼 Надежно</h3>
                            <p>Гарантируем результат и соблюдение сроков.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Услуги -->
    <div id="collections" class="container my-3 py-3">
        <h2 class="section-title" mb-5>Наши услуги</h2>
        <div class="row">
            {% if collections %}
                {% for collection in collections %}
                    <div class="col-md-3 mb-3">
                        <div class="card">
                            <a href="{% url 'collection_detail' collection.id %}">
                                <img src="{{ collection.image.url }}" class="card-img-top" alt="{{ collection.title }}">
                            </a>
                            <div class="card-body text-center">
                                <h3 class="card-title">{{ collection.title }}</h3>
                                <div class="text-left">
                                    {% if collection.description %}
                                        <p>{{ collection.description|truncatechars:60 }}</p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p class="text-center">Услуги временно недоступны.</p>
            {% endif %}
        </div>
        <div class="text-center mt-4">
        </div>
    </div>

    <!-- Портфолио -->
    <div id="works" class="container my-5 py-5">
        <h2 class="section-title">Наши работы</h2>
        <div class="row">
            {% if works %}
                {% for work in latest_works %}
                    <div class="col-md-4 mb-3">
                        <div class="card">
                            <a href="{% url 'work_detail' work.id %}">
                                <img src="{{ work.image2.url }}" class="card-img-top" alt="{{ work.title2 }}">
                            </a>
                            <div class="card-body">
                                <h3 class="card-title">{{ work.title2 }}</h3>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p class="text-center">Портфолио временно недоступно.</p>
            {% endif %}
        </div>
    </div>

    <hr>

    <!-- Контакты -->
    <div id="contact" class="container my-5 py-5">
        <h2 class="section-title">Остались вопросы?</h2>
        <i><p class="section-text"> Оставьте заявку и мы свяжемся с Вами </p></i>
        <form>
            <div class="mb-3 w-50 mx-auto">
                <input type="email" class="form-control" id="email" placeholder="Введите ваш email" required>
            </div>
            <div class="mb-3 w-50 mx-auto">
                <textarea class="form-control" id="message" rows="5" placeholder="Введите ваше сообщение" required></textarea>
            </div>
            <button type="submit" class="btn svbtn-primary">Отправить</button>
        </form>
    </div>

    <!-- Футер -->
    <footer class="footer">
        <div class="container">
            <div class="row" style="display: flex; flex-wrap: wrap; justify-content: space-between;">
                <!-- Информация о компании -->
                <div class="col-md-3" id="inv">
                    <h5>Рекламное агентство <br /> "Рекламград"</h5>
                    <div class="horizontal_line"></div>
                    <p style="font-size: 0.9rem">Изготовление рекламной продукции и <br /> размещение рекламы в городах России.</p>
                    <p><strong>📞Телефон:</strong> <a class="nav-link" href="tel:+79157777314">+7 (915) 777-73-14</a></p>
                    <p><strong>📧Email:</strong> <a class="nav-link" href="mailto:reklamgrad@mail.ru">reklamgrad@mail.ru</a></p>
                </div>

                <!-- Меню -->
                <div class="col-md-3">
                    <h5>Меню</h5>
                    <div class="horizontal_line"></div>
                    <ul class="footer-menu" style="padding-left: 0; list-style: none;">
                        <li class="nav-item">
                            <a class="nav-link" href="#">Главная</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#about">О нас</a>
                        </li>
                        <li class="nav-item">
                            <a href="{% url 'all_collections' %}" class="nav-link">Наши услуги</a>
                        </li>
                        <li class="nav-item">
                            <a href="{% url 'all_works' %}" class="nav-link">Наши работы</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#contact">Контакты</a>
                        </li>
                    </ul>
                </div>

                <!-- Наши услуги -->
                <div class="col-md-3">
                    <h5>Наши услуги</h5>
                    <div class="horizontal_line"></div>
                    <ul style="padding-left: 0; list-style: none;">
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/2/">Вывески</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/3/">Тривижн</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/4/">Уличная мебель</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/5/">Рекламные щиты</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/7/">Световые короба</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/8/">Широкоформатная печать</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/10/">Печать и штампы</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/11/">Брендирование автомобилей</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/12/">Архитектурная подсветка зданий</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/13/">Ситилайт</a></li>
                        <li style="margin-bottom: 15px;"><a class="nav-link" href="http://127.0.0.1:8000/collections/15/">Полиграфия и сувенирная продукция</a></li>
                    </ul>
                </div>

                <!-- Последние работы -->
                <div class="col-md-3">
                    <h5>Последние работы</h5>
                    <div class="horizontal_line"></div>
                    <div class="row">
                        {% if latest_works %}
                            {% for work in latest_works|slice:":3" %}
                                <div class="col-md-12 mb-3">
                                    <div class="card">
                                        <a href="{% url 'work_detail' work.id %}">
                                            <img src="{{ work.image2.url }}" class="card-img-top" alt="{{ work.title2 }}">
                                            <div class="card-body">
                                                <h6 class="card-title">{{ work.title2 }}</h6>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <p>Нет доступных работ.</p>
                        {% endif %}
                    </div>
                </div>
            </div>

            <hr>

            <!-- Копирайт -->
            <div class="text-center">
                <p style="font-size: 12px;">&copy; 2025 <a class="footer_btn" href="#">REKLAMGRAD</a></p>
            </div>
        </div>
    </footer>

    <!-- Подключение Bootstrap JS и зависимости через CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <!-- Кастомные JS -->
    <script>
        window.addEventListener('pageshow', function(event) {
            if (event.persisted || (window.performance && window.performance.navigation.type === 2)) {
                document.body.classList.remove('fade-out');
            }
        });

        const words = ["Надежность", "Качество", "Эффективность"];
        let currentIndex = 0;
        const changingWordElement = document.getElementById("changing-word");

        function changeWord() {
            changingWordElement.style.opacity = 0;
            setTimeout(() => {
                currentIndex = (currentIndex + 1) % words.length;
                changingWordElement.textContent = words[currentIndex];
                changingWordElement.style.opacity = 1;
            }, 500);
        }

        setInterval(changeWord, 3000);

        window.addEventListener('load', () => {
            const loadingScreen = document.getElementById('loading-screen');
            const content = document.getElementById('content');

            loadingScreen.style.opacity = '0';

            setTimeout(() => {
                loadingScreen.style.display = 'none';
                content.style.display = 'block';
            }, 2000);
        });
    </script>
</body>
</html>